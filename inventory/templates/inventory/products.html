{% extends "inventory/base.html" %}
{% block title %}Products - InventoryApp{% endblock %}

{% block content %}
<h1 class="mb-4">All Products</h1>

<table class="table table-striped table-hover align-middle">
  <thead class="table-primary">
    <tr>
      <th>Name</th>
      <th>Category</th>
      <th>Quantity</th>
      <th>Threshold</th>
      <th>Expiry Date</th>
      <th>Suppliers</th>
    </tr>
  </thead>
  <tbody>
    {% for product in products %}
      <tr>
        <td><a href="{% url 'product-detail' product.slug %}">{{ product.product_name }}</a></td>
        <td>{{ product.get_category_display }}</td>
        <td>{{ product.quantity }}</td>
        <td>{{ product.threshold }}</td>
        <td>{{ product.expiry_date|date:"M d, Y" }}</td>
        <td>
          {% for supplier in product.supplier.all %}
            <a href="{% url 'supplier-detail' supplier.slug %}">{{ supplier.supplier_name }}</a>{% if not forloop.last %}, {% endif %}
          {% empty %}
            None
          {% endfor %}
        </td>
      </tr>
    {% empty %}
      <tr>
        <td colspan="6" class="text-center">No products found.</td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
